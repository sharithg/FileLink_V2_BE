(this.webpackJsonpdashboard_react=this.webpackJsonpdashboard_react||[]).push([[0],{132:function(e,t,a){e.exports=a(160)},160:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(11),o=a.n(c),s=a(21),i=a(22),u=a(24),m=a(23),d=a(20),p=a(14),h=a(54),f=a(203),g=a(206),E=a(207),b=a(208),v=a(107),O=a.n(v),y=a(108),j=a.n(y),_=a(109),C=a.n(_),S=a(110),A=a.n(S),w=a(233),k=a(234),L=a(228),R=a(8),x=a(18),G=a.n(x),I=function(e){return{type:"CREATE_MESSAGE",payload:e}},N=function(e,t){return{type:"GET_ERRORS",payload:{message:e,status:t}}},D=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},F=function(){return function(e,t){G.a.get("http://127.0.0.1:8000/api/driveclasses/",D(t)).then((function(t){e({type:"GET_CLASSES",payload:t.data}),e({type:"CLASSES_LOADED",payload:!0})})).catch((function(t){return e(N(t.response.data,t.response.status))}))}},T=function(e){return function(t){t({type:"SET_CURR_CLASS",payload:e})}},U=Object(R.b)((function(e){return{current_class:e.classes.current_class,classes_loaded:e.classes.classes_loaded}}),{addClass:function(e){return function(t,a){G.a.post("http://127.0.0.1:8000/api/driveclasses/",e,D(a)).then((function(e){t({type:"ADD_CLASS",payload:e.data})})).catch((function(e){return console.log(e)}))}},setCurrClass:T})((function(e){var t=Object(r.useState)(!1),a=Object(h.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(""),s=Object(h.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)("sc"),p=Object(h.a)(m,2);p[0],p[1];return l.a.createElement("div",null,l.a.createElement("div",null),l.a.createElement("span",null,l.a.createElement("img",{src:"https://payment-app.s3.us-east-2.amazonaws.com/svg.png",style:{height:"40px",width:"199px",margin:"0.84em 0.5em 0.85em 0.5em"}})),l.a.createElement(f.a,null),l.a.createElement(k.a,{subheader:l.a.createElement(g.a,{component:"div",id:"nested-list-subheader"},"Dashboard"),disableListWrap:!0},[{text:"Schedule",link:"/dashboard/schedule",sel:"schedule"},{text:"Quick Links",link:"/dashboard/quicklinks",sel:"quicklinks"}].map((function(t){return l.a.createElement(w.a,{button:!0,onClick:function(){return e.setCurrClass(t.sel)},selected:t.sel===e.current_class,key:t.sel,component:d.b,to:t.link},l.a.createElement(E.a,null,"Schedule"===t.text?l.a.createElement(O.a,null):l.a.createElement(j.a,null)),l.a.createElement(b.a,{primary:t.text}))}))),l.a.createElement(f.a,null),l.a.createElement(k.a,{subheader:l.a.createElement(g.a,{component:"div",id:"nested-list-subheader"},"My Classes")},e.classes.map((function(t){return l.a.createElement(w.a,{button:!0,onClick:function(){return e.setCurrClass(t.id)},selected:t.id==e.current_class,key:t.id,component:d.b,to:"/dashboard/class/".concat(t.id)},l.a.createElement(E.a,null,l.a.createElement(C.a,null)),l.a.createElement(b.a,{primary:t.name}))}))),n?l.a.createElement(w.a,null,l.a.createElement(L.a,{onKeyDown:function(t){"Enter"===t.key&&(console.log(isNaN(t.target.value)),isNaN(t.target.value)&&e.addClass({name:t.target.value}),u(""),c(!1))},name:"input_class",value:i,onChange:function(e){return u(e.target.value)},inputProps:{autoFocus:!0}})):l.a.createElement("div",null),l.a.createElement(w.a,{button:!0,onClick:function(e){e.preventDefault(),c(!0)}},l.a.createElement(E.a,null,l.a.createElement(A.a,null)),l.a.createElement(b.a,{primary:"Add Class"})))})),W=a(49);n&&n.addEventListener("message",(function(e){console.log(e.data)}),!0);var M=a(60),P=a(209),q=a(210),H=a(211),z=a(111),B=a.n(z),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleLogout=function(e){n.props.logout(),n.props.googleLogout()},n.handleLogout=n.handleLogout.bind(Object(W.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=l.a.createElement("div",null,l.a.createElement("h4",null,a?"Hello: ".concat(a.username):""),l.a.createElement("button",{onClick:this.handleLogout},"Logout")),c=l.a.createElement("div",null,l.a.createElement(M.a,{variant:"h6",noWrap:!0},"Register"),l.a.createElement(M.a,{variant:"h6",noWrap:!0},"Login"));return l.a.createElement(r.Fragment,null,l.a.createElement(P.a,{position:"fixed",className:this.props.classes.appBar},l.a.createElement(q.a,null,l.a.createElement(H.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:this.props.handleDrawerToggle,className:this.props.classes.menuButton},l.a.createElement(B.a,null)),l.a.createElement(M.a,{variant:"h6",noWrap:!0},"Responsive drawer"),t?n:c)))}}]),a}(r.Component),J=Object(R.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e,t){e({type:"USER_LOADING"}),G.a.post("http://127.0.0.1:8000/api/auth/logout/",null,D(t)).then((function(t){e({type:"LOGOUT_SUCCESS"})})).catch((function(t){e(N(t.response.data,t.response.status))}))}},googleLogout:function(){return function(e){e({type:"LOGOUT_GOOGLE"})}}})(V),Y=a(212),Q=a(213),K=a(229),X=(r.Component,a(45)),Z=a(43),$=a(214),ee=a(215),te=Object($.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function ae(){var e=te();return l.a.createElement("div",{className:e.root,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(ee.a,{color:"secondary"}))}var ne=Object(R.b)((function(e){return{googleAuth:e.google}}))((function(e){var t=e.component,a=e.googleAuth,n=Object(Z.a)(e,["component","googleAuth"]);return l.a.createElement(p.Route,Object.assign({},n,{render:function(e){return a.isGoogleAuth&&null!==a.isGoogleAuth?l.a.createElement(t,e):l.a.createElement(p.Redirect,{to:"/dashboard/gauth/googleauth"})}}))})),re=Object(R.b)((function(e){return{googleAuth:e.google,current_class:e.classes.current_class}}))((function(e){var t=e.component,a=e.googleAuth,n=(e.current_class,Object(Z.a)(e,["component","googleAuth","current_class"]));return l.a.createElement(p.Route,Object.assign({},n,{render:function(e){return a.isGoogleAuth&&null!==a.isGoogleAuth?l.a.createElement(p.Redirect,{to:"/dashboard/schedule"}):l.a.createElement(t,e)}}))})),le=function(e){var t=e.component,a=(e.auth,Object(Z.a)(e,["component","auth"]));return l.a.createElement(p.Route,Object.assign({},a,{render:function(e){return"schedule"!=e.match.params.dashId&&"quicklinks"!=e.match.params.dashId?l.a.createElement(p.Redirect,{to:"/404"}):l.a.createElement(t,e)}}))},ce=a(17),oe=a(217),se=a(231),ie=a(232),ue=a(216),me=Object($.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var de=Object(R.b)(null,{googleAuth:function(){return function(e,t){G.a.get("http://127.0.0.1:8000/authorize/",D(t)).then((function(a){console.log(a.data),n=window.open(a.data.redirect,"Authenticate","height=600,width=600");var r=setInterval((function(){G.a.get("http://127.0.0.1:8000/in_auth_flow/",D(t)).then((function(a){("False"===a.data.inflow||n.closed)&&(n.closed||n.close(),G.a.get("http://127.0.0.1:8000/is_google_auth/",D(t)).then((function(t){t.data&&(e({type:"GOOGLE_AUTH"}),clearInterval(r)),clearInterval(r)})).catch((function(e){return console.log(e)})))})).catch((function(e){return console.log(e)}))}),500)})).catch((function(t){e(N(t.response.data,t.response.status))}))}}})((function(e){var t=me();return l.a.createElement("div",{className:t.root},l.a.createElement(ue.a,{variant:"outlined",onClick:function(){return e.googleAuth()}},"Link to google drive"))}));var pe=Object(R.b)(null,{setCurrClass:T})((function(e){return Object(r.useEffect)((function(){e.setCurrClass(e.match.params.dashId)}),[]),l.a.createElement("h1",null,"Sch and QL")})),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getFiles()}},{key:"render",value:function(){return l.a.createElement(r.Fragment,null,l.a.createElement(Fe,{files:this.props}))}}]),a}(r.Component),fe=Object(R.b)((function(e){return{files:e.files.files}}),{getFiles:function(){return function(e,t){G.a.get("http://127.0.0.1:8000/api/drivelinks/",D(t)).then((function(t){e({type:"GET_FILES",payload:t.data})})).catch((function(t){return e(N(t.response.data,t.response.status))}))}}})(he),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={file_type:"",file_name:""},e.handleFormChange=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.handleAddFile=function(t){t.preventDefault();var a=e.state,n={file_type:a.file_type,file_name:a.file_name,college_class:e.props.current_class};e.props.addFile(n),e.setState({file_type:"",file_name:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.file_type,a=e.file_name;return l.a.createElement(r.Fragment,null,l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleAddFile},l.a.createElement("h2",null,"Add File"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"File type"),l.a.createElement("input",{type:"text",className:"form-control",id:"emailinput","aria-describedby":"emailHelp",placeholder:"Enter type",onChange:this.handleFormChange,name:"file_type",value:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"File name"),l.a.createElement("input",{type:"text",className:"form-control",id:"emailinput","aria-describedby":"emailHelp",placeholder:"Enter name",onChange:this.handleFormChange,name:"file_name",value:a})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),l.a.createElement("br",null),l.a.createElement("br",null)))}}]),a}(r.Component),Ee=Object(R.b)((function(e){return{current_class:e.classes.current_class}}),{addFile:function(e){return function(t,a){G.a.post("http://127.0.0.1:8000/api/drivelinks/",e,D(a)).then((function(e){t(I({file_added:"File Added"})),t({type:"ADD_FILE",payload:e.data})})).catch((function(e){return console.log(e)}))}}})(ge);var be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getClasses()}},{key:"render",value:function(){return l.a.createElement(r.Fragment,null,l.a.createElement(U,{classes:this.props}))}}]),a}(r.Component);Object(R.b)((function(e){return{classes:e.classes.classes}}),{getClasses:F})(be);var ve=Object(R.b)(null,{setCurrClass:T})((function(e){return Object(r.useEffect)((function(){e.setCurrClass(e.match.params.classId)}),[]),l.a.createElement(r.Fragment,null,l.a.createElement(Ee,null),l.a.createElement(fe,{match:e.match}))})),Oe=a(82),ye=Object($.a)((function(e){return{root:{display:"flex"},drawer:Object(X.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(X.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(X.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}));var je=Object(R.b)((function(e){return{files:e.files.files,isGoogleAuth:e.google.isGoogleAuth,classes:e.classes.classes}}),{isAuthGoogle:function(){return function(e,t){G.a.get("http://127.0.0.1:8000/is_google_auth/",D(t)).then((function(t){console.log(t),t.data&&e({type:"GOOGLE_AUTH"})})).catch((function(e){return console.log(e)}))}},getClasses:F,setCurrClass:T})((function(e){console.log("here"),Object(r.useEffect)((function(){e.isAuthGoogle(),e.getClasses()}),[]);var t=e.window,a=ye(),n=Object(ce.a)(),c=l.a.useState(!1),o=Object(h.a)(c,2),s=o[0],i=o[1],u=function(){i(!s)},m=void 0!==t?function(){return t().document.body}:void 0;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:a.root},l.a.createElement(oe.a,null),l.a.createElement(J,{classes:a,handleDrawerToggle:u}),l.a.createElement("nav",{className:a.drawer,"aria-label":"college classes"},l.a.createElement(se.a,{smUp:!0,implementation:"css"},l.a.createElement(ie.a,{container:m,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:s,onClose:u,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},elevation:2},l.a.createElement(U,{classes:e.classes,match:e.match}))),l.a.createElement(se.a,{xsDown:!0,implementation:"css"},l.a.createElement(ie.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},l.a.createElement(U,{classes:e.classes,match:e.match})))),l.a.createElement("main",{className:a.content,style:{textAlign:"center"}},l.a.createElement("div",{className:a.toolbar}),l.a.createElement(p.Switch,null,l.a.createElement(p.Route,{exact:!0,path:"/dashboard",render:function(){return l.a.createElement(Oe.Redirect,{to:"/dashboard/schedule"})}}),l.a.createElement(le,{exact:!0,path:"/dashboard/:dashId",component:pe}),l.a.createElement(ne,{exact:!0,path:"/dashboard/class/:classId",component:ve}),l.a.createElement(re,{exact:!0,path:"/dashboard/gauth/googleauth",component:de}),l.a.createElement(Oe.Redirect,{from:"*",to:"/404"})))))})),_e=a(5),Ce=a(112),Se=a.n(Ce),Ae=a(218),we=a(219),ke=a(220),Le=a(162),Re=a(221),xe=a(222),Ge=a(223),Ie=Object(_e.a)((function(e){return{head:{backgroundColor:e.palette.secondary.light,color:e.palette.common.white},body:{fontSize:14}}}))(Ae.a),Ne=Object(_e.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(we.a),De=Object($.a)((function(e){return{table:{minWidth:374},button:{margin:e.spacing(1),backgroundColor:"red","&:hover":{background:"#8b0000"}}}})),Fe=Object(R.b)((function(e){return{files:e.files.files}}),{deleteFile:function(e){return function(t,a){G.a.delete("http://127.0.0.1:8000/api/drivelinks/".concat(e),D(a)).then((function(a){t(I({file_deleted:"File Deleted"})),t({type:"DELETE_FILE",payload:e})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=De();return l.a.createElement(ke.a,{component:Le.a},l.a.createElement(Re.a,{className:t.table,"aria-label":"customized table"},l.a.createElement(xe.a,null,l.a.createElement(we.a,null,l.a.createElement(Ie,{align:"right"},"Type"),l.a.createElement(Ie,{align:"right"},"Name"),l.a.createElement(Ie,{align:"right"},"View link"),l.a.createElement(Ie,{align:"right"},"Icon link"),l.a.createElement(Ie,{align:"right"},"Created at"),l.a.createElement(Ie,{align:"right"}))),l.a.createElement(Ge.a,null,e.files.map((function(a){return l.a.createElement(Ne,{key:a.id},l.a.createElement(Ie,{align:"right"},a.file_type),l.a.createElement(Ie,{align:"right"},a.file_name),l.a.createElement(Ie,{align:"right"},l.a.createElement(M.a,{className:t.root},l.a.createElement("a",{href:a.file_view_link},"View Link"))),l.a.createElement(Ie,{align:"right"},l.a.createElement(M.a,{className:t.root},l.a.createElement("a",{href:a.file_icon_link},"Icon Link"))),l.a.createElement(Ie,{align:"right"},a.file_created_at),l.a.createElement(Ie,{align:"right"},l.a.createElement(ue.a,{variant:"contained",color:"secondary",className:t.button,startIcon:l.a.createElement(Se.a,null),onClick:function(){return e.deleteFile(a.id)}},"Delete")))})))))})),Te=a(74),Ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.alert,r=t.message;a!==e.error&&(a.message.file_id?n.error("ID: ".concat(a.message.file_id.join())):a.message.file_type?n.error("Type: ".concat(a.message.file_type.join())):a.message.file_name?n.error("Name: ".concat(a.message.file_name.join())):a.message.file_view_link?n.error("View Link: ".concat(a.message.file_view_link.join())):a.message.file_icon_link?n.error("Icon Link: ".concat(a.message.file_icon_link.join())):a.message.non_field_errors?n.error("Login Error: ".concat(a.message.non_field_errors.join())):a.message.username&&n.error("Login Error: ".concat(a.message.username.join()))),r!==e.message&&(console.log("HEREEEEE"),r.file_added?n.success(r.file_added):r.file_deleted?n.success(r.file_deleted):r.passwordNotMatch&&n.error("Register Error: ".concat(r.passwordNotMatch)))}},{key:"render",value:function(){return l.a.createElement(r.Fragment,null)}}]),a}(r.Component),We=Object(R.b)((function(e){return{error:e.errors,message:e.messages}}))(Object(Te.b)()(Ue)),Me=a(236),Pe=a(224),qe=a(226),He=a(75),ze=a.n(He),Be=a(225);function Ve(){return l.a.createElement(M.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(Pe.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Je=Object($.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},notchedOutline:{borderWidth:"1px",borderColor:"yellow !important"}}}));var Ye=Object(R.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{registerUser:function(e){var t=e.username,a=e.password,n=e.email;return function(e){var r=JSON.stringify({username:t,password:a,email:n});G.a.post("http://127.0.0.1:8000/api/auth/register/",r,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){e(N(t.response.data,t.response.status)),e({type:"REGISTER_FAIL"})}))}},createMessage:I})((function(e){var t=Je(),a=Object(r.useRef)(""),n=Object(r.useRef)(""),c=Object(r.useRef)(""),o=Object(r.useRef)("");return e.isAuthenticated?l.a.createElement(p.Redirect,{to:"/dashboard"}):l.a.createElement(Be.a,{component:"main",maxWidth:"xs"},l.a.createElement(oe.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(Me.a,{className:t.avatar},l.a.createElement(ze.a,null)),l.a.createElement(M.a,{component:"h1",variant:"h5"},"Sign up"),l.a.createElement("form",{className:t.form,onSubmit:function(t){return function(t){if(t.preventDefault(),c.current.value!==o.current.value)e.createMessage({passwordNotMatch:"Passwords do not match"});else{var r={username:a.current.value,password:c.current.value,email:n.current.value};e.registerUser(r)}}(t)},noValidate:!0},l.a.createElement(qe.a,{container:!0,spacing:2},l.a.createElement(qe.a,{item:!0,xs:12},l.a.createElement(L.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",inputRef:a,autoFocus:!0})),l.a.createElement(qe.a,{item:!0,xs:12},l.a.createElement(L.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:n})),l.a.createElement(qe.a,{item:!0,xs:12,sm:6},l.a.createElement(L.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:c})),l.a.createElement(qe.a,{item:!0,xs:12,sm:6},l.a.createElement(L.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Confirm Password",type:"password",id:"password",autoComplete:"current-password",inputRef:o}))),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),l.a.createElement(qe.a,{container:!0,justify:"flex-end"},l.a.createElement(qe.a,{item:!0},l.a.createElement(Pe.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),l.a.createElement(K.a,{mt:5},l.a.createElement(Ve,null)))}));function Qe(){return l.a.createElement(M.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}var Ke=Object($.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Xe=Object(R.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(a){var n=JSON.stringify({username:e,password:t});console.log(e,t),G.a.post("http://127.0.0.1:8000/api/auth/login/",n,{headers:{"Content-Type":"application/json"}}).then((function(e){a({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(e){a(N(e.response.data,e.response.status)),a({type:"LOGIN_FAIL"})}))}}})((function(e){var t=Ke(),a=Object(r.useRef)(""),n=Object(r.useRef)("");return e.isAuthenticated?l.a.createElement(p.Redirect,{to:"/dashboard"}):l.a.createElement(Be.a,{component:"main",maxWidth:"xs"},l.a.createElement(oe.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(Me.a,{className:t.avatar},l.a.createElement(ze.a,null)),l.a.createElement(M.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,onSubmit:function(t){return function(t){t.preventDefault(),console.log(a),console.log(n),e.login(a.current.value,n.current.value)}(t)},noValidate:!0},l.a.createElement(L.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"username",name:"username",autoComplete:"username",inputRef:a,autoFocus:!0}),l.a.createElement(L.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",inputRef:n,autoComplete:"current-password"}),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),l.a.createElement(qe.a,{container:!0},l.a.createElement(qe.a,{item:!0,xs:!0},l.a.createElement("p",null,"Forgot password?")),l.a.createElement(qe.a,{item:!0},l.a.createElement("p",null,"Dont have a account? ",l.a.createElement(d.b,{to:"/register"},"Register")))))),l.a.createElement(K.a,{mt:8},l.a.createElement(Qe,null)))})),Ze=Object(R.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(Z.a)(e,["component","auth"]);return l.a.createElement(p.Route,Object.assign({},n,{render:function(e){return a.isLoading?l.a.createElement(ae,null):a.isAuthenticated||null===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(p.Redirect,{from:"/dashboard",to:"/login"})}}))})),$e=a(38),et=a(113),tt=a(114),at=a(76),nt=a(10),rt={files:[]};var lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILES":return Object(nt.a)(Object(nt.a)({},e),{},{files:t.payload});case"DELETE_FILE":return Object(nt.a)(Object(nt.a)({},e),{},{files:e.files.filter((function(e){return e.id!==t.payload}))});case"ADD_FILE":return Object(nt.a)(Object(nt.a)({},e),{},{files:[].concat(Object(at.a)(e.files),[t.payload])});default:return e}},ct={message:{},status:null},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{message:t.payload.message,status:t.payload.status};default:return e}},st={message:{},status:null},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return t.payload;default:return e}},ut={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null};var mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(nt.a)(Object(nt.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(nt.a)(Object(nt.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(nt.a)(Object(nt.a)(Object(nt.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(nt.a)(Object(nt.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},dt={isGoogleAuth:null};var pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOOGLE_AUTH":return Object(nt.a)(Object(nt.a)({},e),{},{isGoogleAuth:!0});case"LOGOUT_GOOGLE":return Object(nt.a)(Object(nt.a)({},e),{},{isGoogleAuth:!1});default:return e}},ht={classes:[],current_class:null,classes_loaded:!1};var ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLASSES_LOADED":return Object(nt.a)(Object(nt.a)({},e),{},{classes_loaded:t.payload});case"GET_CLASSES":return Object(nt.a)(Object(nt.a)({},e),{},{classes:t.payload});case"DELETE_CLASS":return Object(nt.a)(Object(nt.a)({},e),{},{classes:e.classes.filter((function(e){return e.id!==t.payload}))});case"ADD_CLASS":return Object(nt.a)(Object(nt.a)({},e),{},{classes:[].concat(Object(at.a)(e.classes),[t.payload])});case"SET_CURR_CLASS":return Object(nt.a)(Object(nt.a)({},e),{},{current_class:t.payload});default:return e}},gt=Object($e.combineReducers)({files:lt,errors:ot,messages:it,auth:mt,google:pt,classes:ft}),Et=[tt.a],bt=Object($e.createStore)(gt,{},Object(et.composeWithDevTools)($e.applyMiddleware.apply(void 0,Et))),vt=a(115);var Ot=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"404 Not Found"))},yt={timeout:3e3,position:"top center",offset:"90px"};console.log(bt);var jt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){bt.dispatch((function(e,t){e({type:"USER_LOADING"}),G.a.get("http://127.0.0.1:8000/api/auth/user/",D(t)).then((function(t){e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(N(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}))}},{key:"render",value:function(){return l.a.createElement(R.a,{store:bt},l.a.createElement(Te.a,Object.assign({template:vt.a},yt),l.a.createElement(d.a,null,l.a.createElement(r.Fragment,null,l.a.createElement(We,null),l.a.createElement("div",{className:"container"},l.a.createElement(p.Switch,null,l.a.createElement(Ze,{path:"/dashboard",component:je}),l.a.createElement(p.Route,{exact:!0,path:"/register",component:Ye}),l.a.createElement(p.Route,{exact:!0,path:"/login",component:Xe}),l.a.createElement(p.Route,{exact:!0,path:"/404",component:Ot}),l.a.createElement(p.Redirect,{from:"*",to:"/404"})))))))}}]),a}(r.Component),_t=a(227),Ct=a(116),St=Object(Ct.a)({palette:{primary:{light:"#ffffff",main:"#fafafa",dark:"#c7c7c7"},secondary:{light:"#484848",main:"#212121",dark:"#000000"}},shape:{borderRadius:0}});o.a.render(l.a.createElement(_t.a,{theme:St},l.a.createElement(jt,null)),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.af299623.chunk.js.map